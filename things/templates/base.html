{% block doctype %}<!DOCTYPE html>{% endblock doctype %}
{% block html_open %}<html lang="en">{% endblock html_open %}
<head>
    <meta charset="utf-8">
    {% block x_ua_compatible %}<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">{% endblock x_ua_compatible %}
    {% block full_title %}
    <title>{% block title %}Django Things{% endblock title %}</title>
    {% endblock full_title %}

    <meta name="description" content="{% block description %}{% endblock description %}" />

    {% block bootstrap_css_link %}
    <link href="{{ STATIC_URL }}css/bootstrap-custom.css" rel="stylesheet">
    {% endblock bootstrap_css_link %}

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    {% block head %}{% endblock head %}

</head>

<body>

    {% include "_edit_bar.html" %}

    {% block body %}{% endblock body %}

    {% block jquery %}
    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery-1.8.3.min.js"></script>
    {% endblock jquery %}

    <script type="text/javascript">
    $(document).ready(function() {
        $(document).keyup(function(){
            if ( event.which == 27 ) {
                {% if request.user.is_superuser %}
                    {% if edit_mode %}
                        window.location = "{{ request.path }}?mode=";
                    {% else %}
                        window.location = "{{ request.path }}?mode=edit";
                    {% endif %}
                {% else %}
                    window.location = "/admin/";
                {% endif %}
            }
        })
    });
    </script>

    {% block js %}{% endblock js %}

</body>

</html>